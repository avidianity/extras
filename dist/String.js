"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _dayjs = _interopRequireDefault(require("dayjs"));

var _relativeTime = _interopRequireDefault(require("dayjs/plugin/relativeTime"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

_dayjs["default"].extend(_relativeTime["default"]);

var errors = [];

if (typeof String.prototype.toNumber === 'undefined') {
  Object.defineProperty(String.prototype, 'toNumber', {
    enumerable: false,
    configurable: false,
    writable: false,
    value: function value() {
      var parts = this.split('.');

      if (parts.length > 1) {
        var whole = (parts[0].match(/\d/g) || []).join('');
        var decimals = (parts[1].match(/\d/g) || []).join('');
        return Number("".concat(whole, ".").concat(decimals)) || 0;
      }

      var match = this.match(/\d/g);

      if (!match) {
        return 0;
      }

      return Number(match.join('')) || 0;
    }
  });
} else {
  errors.push('toNumber');
}

if (typeof String.prototype.toDayJS === 'undefined') {
  Object.defineProperty(String.prototype, 'toDayJS', {
    enumerable: false,
    configurable: false,
    writable: false,
    value: function value() {
      var instance = (0, _dayjs["default"])(this.toString());

      if (!instance.isValid()) {
        throw new Error('Invalid Date');
      }

      return instance;
    }
  });
} else {
  errors.push('toDayJS');
}

if (typeof String.prototype.toDate === 'undefined') {
  Object.defineProperty(String.prototype, 'toDate', {
    enumerable: false,
    configurable: false,
    writable: false,
    value: function value() {
      var instance = (0, _dayjs["default"])(this.toString());

      if (!instance.isValid()) {
        throw new Error('Invalid Date');
      }

      return instance.toDate();
    }
  });
} else {
  errors.push('toDate');
}

if (typeof String.prototype.fromNow === 'undefined') {
  Object.defineProperty(String.prototype, 'fromNow', {
    enumerable: false,
    configurable: false,
    writable: false,
    value: function value() {
      var instance = (0, _dayjs["default"])(this.toString());

      if (!instance.isValid()) {
        throw new Error('Invalid Date');
      }

      return instance.fromNow();
    }
  });
} else {
  errors.push('fromNow');
}

if (typeof String.random === 'undefined') {
  Object.defineProperty(String, 'random', {
    enumerable: false,
    configurable: false,
    writable: false,
    value: function value(size) {
      var characters = '1234567890qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM';
      var results = '';

      for (var x = 0; x < size; x++) {
        results += characters.charAt(Math.floor(Math.random() * characters.length));
      }

      return results;
    }
  });
} else {
  errors.push('random');
}

if (errors.length > 0) {
  console.error("@avidian/extras:String: Unable to patch the following methods - ".concat(errors.join(', ')));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9TdHJpbmcudHMiXSwibmFtZXMiOlsiZGF5anMiLCJleHRlbmQiLCJyZWxhdGl2ZVRpbWUiLCJlcnJvcnMiLCJTdHJpbmciLCJwcm90b3R5cGUiLCJ0b051bWJlciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwidmFsdWUiLCJwYXJ0cyIsInNwbGl0IiwibGVuZ3RoIiwid2hvbGUiLCJtYXRjaCIsImpvaW4iLCJkZWNpbWFscyIsIk51bWJlciIsInB1c2giLCJ0b0RheUpTIiwiaW5zdGFuY2UiLCJ0b1N0cmluZyIsImlzVmFsaWQiLCJFcnJvciIsInRvRGF0ZSIsImZyb21Ob3ciLCJyYW5kb20iLCJzaXplIiwiY2hhcmFjdGVycyIsInJlc3VsdHMiLCJ4IiwiY2hhckF0IiwiTWF0aCIsImZsb29yIiwiY29uc29sZSIsImVycm9yIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7QUFDQTs7OztBQWNBQSxrQkFBTUMsTUFBTixDQUFhQyx3QkFBYjs7QUFFQSxJQUFNQyxNQUFnQixHQUFHLEVBQXpCOztBQUVBLElBQUksT0FBT0MsTUFBTSxDQUFDQyxTQUFQLENBQWlCQyxRQUF4QixLQUFxQyxXQUF6QyxFQUFzRDtBQUNsREMsRUFBQUEsTUFBTSxDQUFDQyxjQUFQLENBQXNCSixNQUFNLENBQUNDLFNBQTdCLEVBQXdDLFVBQXhDLEVBQW9EO0FBQ2hESSxJQUFBQSxVQUFVLEVBQUUsS0FEb0M7QUFFaERDLElBQUFBLFlBQVksRUFBRSxLQUZrQztBQUdoREMsSUFBQUEsUUFBUSxFQUFFLEtBSHNDO0FBSWhEQyxJQUFBQSxLQUFLLEVBQUUsaUJBQVk7QUFDZixVQUFNQyxLQUFLLEdBQUcsS0FBS0MsS0FBTCxDQUFXLEdBQVgsQ0FBZDs7QUFDQSxVQUFJRCxLQUFLLENBQUNFLE1BQU4sR0FBZSxDQUFuQixFQUFzQjtBQUNsQixZQUFNQyxLQUFLLEdBQUcsQ0FBQ0gsS0FBSyxDQUFD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Y2VzQ29udGVudCI6WyJpbXBvcnQgZGF5anMsIHsgRGF5anMgfSBmcm9tICdkYXlqcyc7XG5pbXBvcnQgcmVsYXRpdmVUaW1lIGZyb20gJ2RheWpzL3BsdWdpbi9yZWxhdGl2ZVRpbWUnO1xuXG5kZWNsYXJlIGdsb2JhbCB7XG4gICAgaW50ZXJmYWNlIFN0cmluZyB7XG4gICAgICAgIHRvTnVtYmVyKCk6IG51bWJlcjtcbiAgICAgICAgdG9EYXRlKCk6IERhdGU7XG4gICAgICAgIHRvRGF5SlMoKTogRGF5anM7XG4gICAgICAgIGZyb21Ob3coKTogc3RyaW5nO1xuICAgIH1cbiAgICBpbnRlcmZhY2UgU3RyaW5nQ29uc3RydWN0b3Ige1xuICAgICAgICByYW5kb20oc2l6ZT86IG51bWJlcik6IHN0cmluZztcbiAgICB9XG59XG5cbmRheWpzLmV4dGVuZChyZWxhdGl2ZVRpbWUpO1xuXG5jb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW107XG5cbmlmICh0eXBlb2YgU3RyaW5nLnByb3RvdHlwZS50b051bWJlciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyaW5nLnByb3RvdHlwZSwgJ3RvTnVtYmVyJywge1xuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc3QgcGFydHMgPSB0aGlzLnNwbGl0KCcuJyk7XG4gICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdob2xlID0gKHBhcnRzWzBdLm1hdGNoKC9cXGQvZykgfHwgW10pLmpvaW4oJycpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlY2ltYWxzID0gKHBhcnRzWzFdLm1hdGNoKC9cXGQvZykgfHwgW10pLmpvaW4oJycpO1xuICAgICAgICAgICAgICAgIHJldHVybiBOdW1iZXIoYCR7d2hvbGV9LiR7ZGVjaW1hbHN9YCkgfHwgMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1hdGNoID0gdGhpcy5tYXRjaCgvXFxkL2cpO1xuICAgICAgICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIE51bWJlcihtYXRjaC5qb2luKCcnKSkgfHwgMDtcbiAgICAgICAgfSxcbiAgICB9KTtcbn0gZWxzZSB7XG4gICAgZXJyb3JzLnB1c2goJ3RvTnVtYmVyJyk7XG59XG5cbmlmICh0eXBlb2YgU3RyaW5nLnByb3RvdHlwZS50b0RheUpTID09PSAndW5kZWZpbmVkJykge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmcucHJvdG90eXBlLCAndG9EYXlKUycsIHtcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gZGF5anModGhpcy50b1N0cmluZygpKTtcbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIERhdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn0gZWxzZSB7XG4gICAgZXJyb3JzLnB1c2goJ3RvRGF5SlMnKTtcbn1cblxuaWYgKHR5cGVvZiBTdHJpbmcucHJvdG90eXBlLnRvRGF0ZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyaW5nLnByb3RvdHlwZSwgJ3RvRGF0ZScsIHtcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlID0gZGF5anModGhpcy50b1N0cmluZygpKTtcbiAgICAgICAgICAgIGlmICghaW5zdGFuY2UuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIERhdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZS50b0RhdGUoKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn0gZWxzZSB7XG4gICAgZXJyb3JzLnB1c2goJ3RvRGF0ZScpO1xufVxuXG5pZiAodHlwZW9mIFN0cmluZy5wcm90b3R5cGUuZnJvbU5vdyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RyaW5nLnByb3RvdHlwZSwgJ2Zyb21Ob3cnLCB7XG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zdCBpbnN0YW5jZSA9IGRheWpzKHRoaXMudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBpZiAoIWluc3RhbmNlLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBEYXRlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaW5zdGFuY2UuZnJvbU5vdygpO1xuICAgICAgICB9LFxuICAgIH0pO1xufSBlbHNlIHtcbiAgICBlcnJvcnMucHVzaCgnZnJvbU5vdycpO1xufVxuXG5pZiAodHlwZW9mIFN0cmluZy5yYW5kb20gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZywgJ3JhbmRvbScsIHtcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIChzaXplOiBudW1iZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYXJhY3RlcnMgPSAnMTIzNDU2Nzg5MHF3ZXJ0eXVpb3Bhc2RmZ2hqa2x6eGN2Ym5tUVdFUlRZVUlPUEFTREZHSEpLTFpYQ1ZCTk0nO1xuICAgICAgICAgICAgbGV0IHJlc3VsdHMgPSAnJztcblxuICAgICAgICAgICAgZm9yIChsZXQgeCA9IDA7IHggPCBzaXplOyB4KyspIHtcbiAgICAgICAgICAgICAgICByZXN1bHRzICs9IGNoYXJhY3RlcnMuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGNoYXJhY3RlcnMubGVuZ3RoKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICB9LFxuICAgIH0pO1xufSBlbHNlIHtcbiAgICBlcnJvcnMucHVzaCgncmFuZG9tJyk7XG59XG5cbmlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xuICAgIGNvbnNvbGUuZXJyb3IoYEBhdmlkaWFuL2V4dHJhczpTdHJpbmc6IFVuYWJsZSB0byBwYXRjaCB0aGUgZm9sbG93aW5nIG1ldGhvZHMgLSAke2Vycm9ycy5qb2luKCcsICcpfWApO1xufVxuXG5leHBvcnQge307XG4iXX0=