"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
var errors = [];

if (typeof Error.prototype.toObject === 'undefined') {
  Object.defineProperty(Error.prototype, 'toObject', {
    writable: false,
    enumerable: false,
    configurable: false,
    value: function value() {
      var alt = {};

      var _this = this;

      Object.getOwnPropertyNames(_this).forEach(function (key) {
        alt[key] = _this[key];
      }, _this);

      if ('stack' in alt) {
        alt.stack = alt.stack.split(/\r?\n/).map(function (string) {
          return string.trim();
        }).filter(function (_, i) {
          return i !== 0;
        });
      }

      return alt;
    }
  });
} else {
  errors.push('toObject');
}

if (errors.length > 0) {
  console.error("@avidian/extras:Error: Unable to patch the following methods - ".concat(errors.join(', ')));
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9FcnJvci50cyJdLCJuYW1lcyI6WyJlcnJvcnMiLCJFcnJvciIsInByb3RvdHlwZSIsInRvT2JqZWN0IiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ3cml0YWJsZSIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ2YWx1ZSIsImFsdCIsIl90aGlzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImZvckVhY2giLCJrZXkiLCJzdGFjayIsInNwbGl0IiwibWFwIiwic3RyaW5nIiwidHJpbSIsImZpbHRlciIsIl8iLCJpIiwicHVzaCIsImxlbmd0aCIsImNvbnNvbGUiLCJlcnJvciIsImpvaW4iXSwibWFwcGluZ3MiOiI7Ozs7O0FBTUEsSUFBTUEsTUFBZ0IsR0FBRyxFQUF6Qjs7QUFFQSxJQUFJLE9BQU9DLEtBQUssQ0FBQ0MsU0FBTixDQUFnQkMsUUFBdkIsS0FBb0MsV0FBeEMsRUFBcUQ7QUFDakRDLEVBQUFBLE1BQU0sQ0FBQ0MsY0FBUCxDQUFzQkosS0FBSyxDQUFDQyxTQUE1QixFQUF1QyxVQUF2QyxFQUFtRDtBQUMvQ0ksSUFBQUEsUUFBUSxFQUFFLEtBRHFDO0FBRS9DQyxJQUFBQSxVQUFVLEVBQUUsS0FGbUM7QUFHL0NDLElBQUFBLFlBQVksRUFBRSxLQUhpQztBQUkvQ0MsSUFBQUEsS0FBSyxFQUFFLGlCQUFZO0FBQ2YsVUFBTUMsR0FBRyxHQUFHLEVBQVo7O0FBRUEsVUFBTUMsS0FBSyxHQUFHLElBQWQ7O0FBQ0FQLE1BQUFBLE1BQU0sQ0FBQ1EsbUJBQVAsQ0FBMkJELEtBQTNCLEVBQWtDRSxPQUFsQyxDQUEwQyxVQUFVQyxHQUFWLEVBQWU7QUFDckRKLFFBQUFBLEdBQUcsQ0FBQ0ksR0FBRCxDQUFILEdBQVdILEtBQUssQ0FBQ0csR0FBRCxDQUFoQjtBQUNILE9BRkQsRUFFR0gsS0FGSDs7QUFJQSxVQUFJLFdBQVdELEdBQWYsRUFBb0I7QUFDaEJBLFFBQUFBLEdBQUcsQ0FBQ0ssS0FBSixHQUFZTCxHQUFHLENBQUNLLEtBQUosQ0FDUEMsS0FETyxDQUNELE9BREMsRUFFUEMsR0FGTyxDQUVILFVBQUNDLE1BQUQ7QUFBQSxpQkFBb0JBLE1BQU0sQ0FBQ0MsSUFBUCxFQUFwQjtBQUFBLFNBRkcsRUFHUEMsTUFITyxDQUdBLFVBQUNDLENBQUQsRUFBU0MsQ0FBVDtBQUFBLGlCQUF1QkEsQ0FBQyxLQUFLLENBQTdCO0FBQUEsU0FIQSxDQUFaO0FBSUg7O0FBRUQsYUFBT1osR0FBUDtBQUNIO0FBcEI4QyxHQUFuRDtBQXNCSCxDQXZCRCxNQXVCTztBQUNIVixFQUFBQSxNQUFNLENBQUN1QixJQUFQLENBQVksVUFBWjtBQUNIOztBQUVELElBQUl2QixNQUFNLENBQUN3QixNQUFQLEdBQWdCLENBQXBCLEVBQXVCO0FBQ25CQyxFQUFBQSxPQUFPLENBQUNDLEtBQVIsMEVBQWdGMUIsTUFBTSxDQUFDMkIsSUFBUCxDQUFZLElBQVosQ0FBaEY7QUFDSCIsInNvdXJjZXNDb250ZW50IjpbImRlY2xhcmUgZ2xvYmFsIHtcbiAgICBpbnRlcmZhY2UgRXJyb3Ige1xuICAgICAgICB0b09iamVjdCgpOiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xuICAgIH1cbn1cblxuY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xuXG5pZiAodHlwZW9mIEVycm9yLnByb3RvdHlwZS50b09iamVjdCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRXJyb3IucHJvdG90eXBlLCAndG9PYmplY3QnLCB7XG4gICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zdCBhbHQgPSB7fSBhcyBhbnk7XG5cbiAgICAgICAgICAgIGNvbnN0IF90aGlzID0gdGhpcyBhcyBhbnk7XG4gICAgICAgICAgICBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhfdGhpcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgICAgYWx0W2tleV0gPSBfdGhpc1trZXldO1xuICAgICAgICAgICAgfSwgX3RoaXMpO1xuXG4gICAgICAgICAgICBpZiAoJ3N0YWNrJyBpbiBhbHQpIHtcbiAgICAgICAgICAgICAgICBhbHQuc3RhY2sgPSBhbHQuc3RhY2tcbiAgICAgICAgICAgICAgICAgICAgLnNwbGl0KC9cXHI/XFxuLylcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoc3RyaW5nOiBzdHJpbmcpID0+IHN0cmluZy50cmltKCkpXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoKF86IGFueSwgaTogbnVtYmVyKSA9PiBpICE9PSAwKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGFsdDtcbiAgICAgICAgfSxcbiAgICB9KTtcbn0gZWxzZSB7XG4gICAgZXJyb3JzLnB1c2goJ3RvT2JqZWN0Jyk7XG59XG5cbmlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xuICAgIGNvbnNvbGUuZXJyb3IoYEBhdmlkaWFuL2V4dHJhczpFcnJvcjogVW5hYmxlIHRvIHBhdGNoIHRoZSBmb2xsb3dpbmcgbWV0aG9kcyAtICR7ZXJyb3JzLmpvaW4oJywgJyl9YCk7XG59XG5cbmV4cG9ydCB7fTtcbiJdfQ==